function nextRadar(){"2011"===radarChartYear?RadarChart.draw("#radarChart",d2011,mycfg):"2012"===radarChartYear?RadarChart.draw("#radarChart",d2012,mycfg):"2013"===radarChartYear&&RadarChart.draw("#radarChart",d2013,mycfg),radarLegend()}function radarLegend(){var a=d3.select("#radarChartContainer").selectAll("svg").append("svg").attr("width",w+300).attr("height",h),b=a.append("g").attr("class","legend").attr("height",100).attr("width",200).attr("transform","translate(90,20)");b.selectAll("rect").data(LegendOptions).enter().append("rect").attr("x",w-65).attr("y",function(a,b){return 20*b}).attr("width",10).attr("height",10).style("fill",function(a,b){return colorscale(b)}),b.selectAll("text").data(LegendOptions).enter().append("text").attr("x",w-52).attr("y",function(a,b){return 20*b+9}).attr("font-size","11px").attr("fill","#737373").text(function(a){return a})}function changeRadarChart(){console.log("year "+a);for(var a,b=document.getElementsByName("year"),c=0,d=b.length;d>c;c++)if(b[c].checked){a=b[c].value;break}radarChartYear=a,nextRadar()}var w=500,ExtraWidthX=250;w=document.getElementById("radarChartContainer").offsetWidth-ExtraWidthX-50;var h=w,d3_categoryAB=["#00ADB5","#FF636E","#71B862","#FF7600","#78FF63","#8000C1","#FFE263"];d3.scale.categoryAB=function(){return d3.scale.ordinal().range(d3_categoryAB)};var colorscale=d3.scale.categoryAB(),radarChartYear="2011",LegendOptions=["Empresa","Competidor 1","Competidor 2"],d2011=[[{axis:"Dirección Estratégica",value:.5},{axis:"Tecnológica",value:.3},{axis:"Producción",value:.2},{axis:"Mercadeo",value:.6},{axis:"Gestión de Recursos",value:.8}],[{axis:"Dirección Estratégica",value:.8},{axis:"Tecnológica",value:.1},{axis:"Producción",value:.7},{axis:"Mercadeo",value:.3},{axis:"Gestión de Recursos",value:.4}],[{axis:"Dirección Estratégica",value:.3},{axis:"Tecnológica",value:.7},{axis:"Producción",value:.4},{axis:"Mercadeo",value:.2},{axis:"Gestión de Recursos",value:.6}]],d2012=[[{axis:"Dirección Estratégica",value:.6},{axis:"Tecnológica",value:.5},{axis:"Producción",value:.2},{axis:"Mercadeo",value:.7},{axis:"Gestión de Recursos",value:.8}],[{axis:"Dirección Estratégica",value:.8},{axis:"Tecnológica",value:.2},{axis:"Producción",value:.7},{axis:"Mercadeo",value:.4},{axis:"Gestión de Recursos",value:.4}],[{axis:"Dirección Estratégica",value:.2},{axis:"Tecnológica",value:.7},{axis:"Producción",value:.3},{axis:"Mercadeo",value:.2},{axis:"Gestión de Recursos",value:.6}]],d2013=[[{axis:"Dirección Estratégica",value:.7},{axis:"Tecnológica",value:.5},{axis:"Producción",value:.1},{axis:"Mercadeo",value:.8},{axis:"Gestión de Recursos",value:.8}],[{axis:"Dirección Estratégica",value:.8},{axis:"Tecnológica",value:.3},{axis:"Producción",value:.6},{axis:"Mercadeo",value:.4},{axis:"Gestión de Recursos",value:.4}],[{axis:"Dirección Estratégica",value:.2},{axis:"Tecnológica",value:.6},{axis:"Producción",value:.3},{axis:"Mercadeo",value:.2},{axis:"Gestión de Recursos",value:.5}]],mycfg={w:w,h:h,maxValue:1,levels:10,ExtraWidthX:ExtraWidthX,color:colorscale};nextRadar(),$('input[name="year"]').change(changeRadarChart),window.onresize=function(){w=document.getElementById("radarChartContainer").offsetWidth-ExtraWidthX-50,mycfg={w:w,h:w,maxValue:1,levels:10,ExtraWidthX:ExtraWidthX,color:colorscale},nextRadar()};